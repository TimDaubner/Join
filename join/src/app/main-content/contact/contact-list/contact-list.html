<section>
    <div class="background_new_contact">
        <button (click)="openAddNewContact()">Add new contact <img src="/assets/icons/person_add.svg"
                alt="person_add"></button>
    </div>
    <div class="gray-line"></div>
    <div class="space">
        @for (contact of contact_service.contactList(); track $index; let i = $index) {
        @if(contact_service.contactList()[i-1]){
        @if(contact.lastname.charAt(0) != contact_service.contactList()[i-1].lastname.charAt(0)){
        <span>{{contact.lastname.charAt(0)}}</span>
        <div class="line"></div>
        }
        }
        @else if(i == 0) {
        <span>{{contact.lastname.charAt(0)}}</span>
        <div class="line"></div>
        }
        <div (click)="showContact(i)" [ngClass]="{ 'highlighted': contact_service.contactSelected && selectedIndex === i}" class="info">
            <div class="img" [style.background-color]="contact.color">
                {{contact.surname.charAt(0)}}{{contact.lastname.charAt(0)}}
            </div>
            <div>
                <div>
                    <b class="surname">{{contact.surname}} </b>
                    <b class="lastname">{{contact.lastname}}</b>
                </div>
                <div class="link">{{contact.mail}}</div>

            </div>
        </div>
        }
    </div>
</section>